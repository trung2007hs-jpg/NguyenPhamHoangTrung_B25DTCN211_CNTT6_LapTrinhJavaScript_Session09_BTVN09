<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let names = ["Laptop", "Chuột", "Bàn phím", "Tai nghe", "Màn hình"];
        let prices = [1500, 200, 350, 800, 1200];
        let stocks = [5, 0, 10, 3, 2];
        function getPremiumProducts() {
            return names.filter((name, index) => prices[index] > 500);
        }
        function checkInventoryStatus() {
            let hasOutOfStock = stocks.some(stock => stock === 0);
            let allAbove100 = prices.every(price => price > 100);
            return {
                hasOutOfStock,
                allAbove100
            };
        }
        function calculateTotalValue() {
            return prices.reduce((total, price, index) =>
                total + price * stocks[index], 0);
        }
        function applyDiscount() {
            prices = prices.map(price => price * 0.9);
        }
        function searchProduct(keyword) {
            return names
                .map((name, index) => ({
                    name,
                    price: prices[index],
                    stock: stocks[index]
                }))
                .filter(product =>
                    product.name.toLowerCase().includes(keyword.toLowerCase())
                );
        }
        function getStockReport() {
            return names.map((name, index) => ({
                name,
                status: stocks[index] > 0 ? "Còn hàng" : "Hết hàng"
            }));
        }
        do {
            let choice = prompt(`
========= MENU =========
1. Sản phẩm cao cấp
2. Kiểm định dữ liệu
3. Tổng giá trị kho
4. Giảm giá 10%
5. Tìm sản phẩm
6. Báo cáo tồn kho
7. Thoát
`);
            switch (choice) {
                case "1":
                    alert(getPremiumProducts().join("\n"));
                    break;
                case "2":
                    let status = checkInventoryStatus();
                    alert(
                        "Có sản phẩm hết hàng: " + status.hasOutOfStock +
                        "\nTất cả giá > 100: " + status.allAbove100
                    );
                    break;
                case "3":
                    alert("Tổng giá trị kho: " + calculateTotalValue());
                    break;
                case "4":
                    applyDiscount();
                    alert("Đã giảm giá 10%");
                    break;
                case "5":
                    let keyword = prompt("Nhập từ khóa:");
                    let results = searchProduct(keyword);
                    if (results.length === 0) {
                        alert("Không tìm thấy.");
                    } else {
                        alert(results
                                .map(p => `${p.name} - ${p.price} - ${p.stock}`)
                                .join("\n"));
                    }
                    break;
                case "6":
                    alert(getStockReport()
                            .map(p => `${p.name} - ${p.status}`)
                            .join("\n"));
                    break;
                case "7":
                    alert("Thoát!");
                    break;
                default:
                    alert("Không hợp lệ!");
            }
        } while (choice !== 7);
    </script>
</body>
</html>